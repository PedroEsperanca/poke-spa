"use strict";angular.module("pokedexApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","infinite-scroll"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/pokemon/:pokemonId/:pokemonName",{templateUrl:"views/pokemon.html",controller:"PokemonCtrl",controllerAs:"pokemon"}).when("/typography",{templateUrl:"views/typography.html",controller:"TypographyCtrl",controllerAs:"typography"}).otherwise({redirectTo:"/"})}]),angular.module("pokedexApp").controller("MainCtrl",["$scope","$http","pokemons",function(a,b,c){a.pokemons=[],c.getPokemons(function(b,c){a.pokemons=c}),a.quantity=12,a.blockInfiniteScroll=!0,a.getMore=function(){a.quantity=a.quantity+12,a.blockInfiniteScroll=!1}}]),angular.module("pokedexApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("pokedexApp").controller("PokemonCtrl",["$scope","$routeParams","pokemons",function(a,b,c){function d(a){var b="000"+parseInt(a),c=b.slice(JSON.stringify(parseInt(a)).length,b.length);return c}c.getPokemons(function(){var e=d(parseInt(b.pokemonId)-1);e>0&&c.getPokemon(e,function(b,c){a.previousPokemon=c});var f=d(parseInt(b.pokemonId));c.getPokemon(f,function(b,c){a.currentPokemon=c});var g=d(parseInt(b.pokemonId)+1);c.getPokemon(g,function(b,c){a.nextPokemon=c})})}]),angular.module("pokedexApp").controller("TypographyCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("pokedexApp").directive("pokemonDataFromServerGetter",["pokemons",function(a){return{link:function(b){a.getPokemon(b.pokemon.id,function(a,c){b.pokemon=c})}}}]),angular.module("pokedexApp").service("pokemons",["$http",function(a){this.pokemons=[],this.getPokemons=function(b){this.pokemons.length?b(null,this.pokemons):a({method:"GET",url:"http://pokeapi.co/api/v1/pokedex/1/"}).then(function(a){console.log("got all pokemons from server"),a.data.pokemon.forEach(function(a){var b=parseInt(a.resource_uri.substring(15,a.resource_uri.length-1)),c="000"+JSON.stringify(b);a.id=c.slice(JSON.stringify(b).length,c.length),JSON.stringify(b).length<4&&this.pokemons.push(a)}.bind(this)),b(null,this.pokemons)}.bind(this),function(a){b(a,!1)})},this.getPokemon=function(b,c){var d=this.pokemons.map(function(a){return a.id}).indexOf(b);"undefined"!=typeof this.pokemons[d].created?c(null,this.pokemons[d]):a({method:"GET",url:"http://pokeapi.co/api/v1/pokemon/"+b}).then(function(e){console.log("got pokemon"+b+" from server"),this.pokemons[d].types=e.data.types.reverse(),this.pokemons[d].weight=e.data.weight,this.pokemons[d].height=e.data.height,this.pokemons[d].male_female_ratio=e.data.male_female_ratio,this.pokemons[d].abilities=e.data.abilities,this.pokemons[d].statistics={},this.pokemons[d].statistics.hp=e.data.hp,this.pokemons[d].statistics.attack=e.data.attack,this.pokemons[d].statistics.defense=e.data.defense,this.pokemons[d].statistics.sp_atk=e.data.sp_atk,this.pokemons[d].statistics.sp_def=e.data.sp_def,this.pokemons[d].statistics.speed=e.data.speed,this.pokemons[d].moves=e.data.moves;var f=e.data.descriptions[e.data.descriptions.length-1].resource_uri;a({method:"GET",url:"http://pokeapi.co/"+f}).then(function(a){this.pokemons[d].description=a.data.description}.bind(this)),c(null,this.pokemons[d])}.bind(this),function(a){c(a,!1)})}}]),angular.module("pokedexApp").filter("typecolor",function(){return function(a){return"typecolor filter: "+a}}),angular.module("pokedexApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="row"> <h1 class="title">POKÃ‰DEX</h1> <ul class="pokemon-list" infinite-scroll="getMore()" infinite-scroll-disabled="blockInfiniteScroll"> <li class="pokemon-preview" ng-repeat="pokemon in pokemons | orderBy: \'id\' | limitTo: quantity" pokemon-data-from-server-getter> <a ng-href="#/pokemon/{{pokemon.id}}/{{pokemon.name}}"> <p>#{{pokemon.id}} <b>{{pokemon.name}}</b></p> <div class="img-cnt"> <img ng-src="../dist/images/{{pokemon.id}}.png" onerror="this.style.display = &quot;none&quot"> </div> <div class="types-cnt"> <div ng-show="pokemon.types[0]" class="type" ng-class="pokemon.types[0].name"> {{pokemon.types[0].name}} </div> <div ng-show="pokemon.types[1]" class="type" ng-class="pokemon.types[1].name"> {{pokemon.types[1].name}} </div> </div> </a> <!-- <pre>{{pokemon |json}}</pre> --> </li> </ul> <div class="row" style="margin: 60px 0"> <div class="col-sm-2 col-sm-offset-5"> <div class="button-2" ng-click="getMore()">LOAD MORE</div> </div> </div> <!--   <pre>{{pokemons |json}}</pre> --> </div>'),a.put("views/pokemon.html",'<div class="row top-pokemon-navigator"> <a ng-show="previousPokemon" ng-href="#/pokemon/{{previousPokemon.id}}/{{previousPokemon.name}}"> <span class="id"># {{previousPokemon.id}}</span> <b>{{previousPokemon.name}}</b> </a> <a class="pull-right" ng-href="#/pokemon/{{nextPokemon.id}}/{{nextPokemon.name}}"> <b>{{nextPokemon.name}}</b> <span class="id"># {{nextPokemon.id}}</span> </a> </div> <h1 class="text-center"> {{currentPokemon.name}} </h1> <div class="row pokemon-info"> <div class="col-sm-6"> <div class="row"> <div class="pokemon-preview"> <div class="img-cnt"> <img ng-src="../dist/images/{{currentPokemon.id}}.png" onerror="this.style.display = &quot;none&quot"> </div> <div class="types-cnt"> <div ng-show="currentPokemon.types[0]" class="type" ng-class="currentPokemon.types[0].name"> {{currentPokemon.types[0].name}} </div> <div ng-show="currentPokemon.types[1]" class="type" ng-class="currentPokemon.types[1].name"> {{currentPokemon.types[1].name}} </div> </div> </div> </div> <div class="row"> {{currentPokemon.description}} </div> </div> <div class="col-sm-6"> <div class="row pokemon-specs"> <div class="spec"> <div class="spec-title">Height</div> <div class="spec-data">{{currentPokemon.height/10}} m</div> </div> <div class="spec"> <div class="spec-title">Category</div> <div class="spec-data">{{currentPokemon.category}}</div> </div> <div class="spec"> <div class="spec-title">Weight</div> <div class="spec-data">{{currentPokemon.weight}} kg</div> </div> <div class="spec"> <div class="spec-title">Abilities</div> <div class="spec-data">{{currentPokemon.abilities}}</div> </div> <div class="spec"> <div class="spec-title">Gender (M/F)</div> <div class="spec-data">{{currentPokemon.male_female_ratio}}</div> </div> </div> <div class="row"> </div> </div> </div> <div class="row"> <h1>Moves</h1> <ul class="moves-list"> <li ng-repeat="move in currentPokemon.moves"> {{move.name}} </li> </ul> </div> <pre>{{currentPokemon|json}}</pre>'),a.put("views/typography.html",'<p>This is the typography view.</p> <h1>header 1</h1> <h2>header 2</h2> <h3>header 3</h3> <h4>header 4</h4> <div class="row"> <div class="col-sm-6"> <div class="button-1">button1</div> </div> <div class="col-sm-6"> <div class="button-2">button2</div> </div> </div>')}]);